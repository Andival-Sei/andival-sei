# Cursor: AI-редактор для программирования

Cursor — это современный AI-редактор кода, построенный на базе VS Code, с глубокой интеграцией искусственного интеллекта для ускорения разработки. Он предлагает автодополнение, инлайн-редактирование, AI-чат и агента для автоматизации задач.

## Основные функции

### Tab — автодополнение кода

Tab автоматически предлагает многострочные блоки кода и предсказывает следующие шаги в рамках одного или нескольких файлов.

**Использование:**
- Начните печатать функцию или класс
- Нажмите `Tab` для принятия предложения
- Cursor автоматически добавит импорты и документацию

```typescript
// Начните печатать:
function calculateFibonacci

// Tab предложит полную реализацию:
function calculateFibonacci(n: number): number {
  if (n <= 1) return n;
  return calculateFibonacci(n - 1) + calculateFibonacci(n - 2);
}
```

### Cmd+K — инлайн-редактирование

Позволяет редактировать выбранный код с помощью естественного языка.

**Использование:**
1. Выделите код
2. Нажмите `Cmd+K` (или `Ctrl+K` на Windows/Linux)
3. Введите промпт (например, "сделай эту функцию асинхронной")
4. Нажмите `Enter`

**Примеры промптов:**
- "Добавь обработку ошибок"
- "Оптимизируй эту функцию"
- "Переведи на TypeScript"
- "Добавь JSDoc комментарии"

### Agent (Composer) — AI-ассистент

Agent — это мощный AI-помощник, который может работать с несколькими файлами одновременно, выполнять сложные задачи и объяснять код.

**Открытие Agent:**
- `Cmd+I` — открыть панель Agent
- `Cmd+L` — добавить выделенный код в новый чат

**Возможности Agent:**
- Редактирование нескольких файлов одновременно
- Создание тестов и их запуск
- Рефакторинг кода
- Объяснение сложных участков
- Поиск по кодовой базе

**Пример использования:**
```
Создай компонент Button с пропсами: variant, size, disabled.
Добавь тесты и запусти их.
```

## Горячие клавиши

### Основные команды

| Комбинация | Действие |
|------------|----------|
| `Cmd+K` | Инлайн-редактирование выделенного кода |
| `Cmd+L` | Отправить выделение в новый чат |
| `Cmd+Shift+L` | Добавить выделение в текущий чат |
| `Cmd+Shift+K` | Добавить выделение в режим редактирования |
| `Cmd+I` | Открыть/закрыть панель Agent |
| `Cmd+T` | Создать новую вкладку чата |
| `Cmd+M` | Переключить стратегию чтения файлов |
| `Cmd+→` | Принять следующее слово из предложения |
| `Cmd+Return` | Поиск по кодовой базе в чате |

### Навигация и настройки

| Комбинация | Действие |
|------------|----------|
| `Cmd+Shift+P` | Командная палитра |
| `Cmd+,` | Общие настройки |
| `Cmd+Shift+J` | Настройки Cursor |
| `Cmd+/` | Переключение между AI-моделями |
| `Cmd+.` | Меню режимов |
| `Cmd+E` | Панель управления Background Agent |

### Терминал

| Комбинация | Действие |
|------------|----------|
| `Cmd+K` (в терминале) | Открыть панель промпта терминала |
| `Cmd+Return` | Выполнить сгенерированную команду |
| `Escape` | Принять команду |

## Контекстные символы (@)

Cursor использует специальные символы для добавления контекста в запросы:

### @Code — ссылка на код

Ссылайтесь на конкретные функции, классы или переменные:

```
@calculateTotal объясни, как работает эта функция
```

### @Files и @Folders — ссылка на файлы

Добавляйте файлы и папки в контекст:

```
@src/components/Button.tsx добавь пропс loading
@src/utils переведи все функции на TypeScript
```

### @Cursor Rules — правила проекта

Применяйте правила проекта:

```
@Cursor Rules используй эти правила для рефакторинга
```

### @Git — изменения Git

Ссылайтесь на изменения и различия между ветками:

```
@Git объясни, что изменилось в последнем коммите
```

### @Link — веб-контент

Включайте веб-контент, вставляя URL:

```
@https://react.dev/docs объясни концепцию хуков
```

### @Linter Errors — ошибки линтера

Исправляйте ошибки линтера:

```
@Linter Errors исправь все ошибки
```

### @Past Chats — прошлые чаты

Включайте историю чатов:

```
@Past Chats продолжай работу над предыдущей задачей
```

### @Recent Changes — недавние изменения

Добавляйте недавно измененный код:

```
@Recent Changes объясни последние изменения
```

### @Web — поиск в интернете

Ищите актуальную информацию:

```
@Web найди лучшие практики для React Server Components в 2025
```

## Cursor Rules — правила проекта

Cursor Rules — это способ сохранить долгосрочную память о стиле кода, конвенциях и рабочих процессах проекта.

### Типы правил

1. **Always** — всегда включены в контекст модели
2. **Auto Attached** — включаются автоматически, когда файлы соответствуют glob-паттерну
3. **Agent Requested** — AI решает, включать ли правило (требуется описание)
4. **Manual** — включаются только при явном упоминании через `@ruleName`

### Создание правил

**User Rules** (глобальные настройки):
- Настройки → Rules
- Применяются ко всем проектам
- Идеально для стиля общения и общих конвенций

**Project Rules** (правила проекта):
- Более гибкие и видимые
- Создаются через `/Generate Cursor Rules` из чата
- Могут ссылаться на файлы через `@filename.ts`

**Пример правила:**

```plaintext
# Стиль кода

- Используй TypeScript для всех новых файлов
- Следуй принципам Clean Code
- Добавляй JSDoc комментарии для публичных функций
- Используй именованные экспорты вместо default
- Группируй импорты: builtin → external → internal
```

### Ссылка на файлы в правилах

```plaintext
# Архитектура проекта

Следуй структуре Feature-Sliced Design:
- @src/entities — доменные сущности
- @src/features — пользовательские действия
- @src/widgets — крупные UI-блоки

Импорты только вниз по слоям.
```

## MCP (Model Context Protocol) интеграция

Cursor поддерживает MCP для подключения внешних инструментов и источников данных.

### Настройка MCP-серверов

**Через CLI:**

```bash
# Список настроенных серверов
cursor-agent mcp list

# Показать инструменты сервера
cursor-agent mcp list-tools <server-id>

# Аутентификация
cursor-agent mcp login <server-id>

# Отключить сервер
cursor-agent mcp disable <server-id>
```

**Пример конфигурации (mcp.json):**

```json
{
  "mcpServers": {
    "context7": {
      "command": "npx",
      "args": ["-y", "@upstash/context7-mcp", "--api-key", "YOUR_API_KEY"],
      "env": {
        "DEBUG": "*"
      }
    }
  }
}
```

### Использование MCP в чате

Agent автоматически использует инструменты MCP, когда это уместно. Вы можете:
- Включать/отключать инструменты из чата
- Настраивать автозапуск без подтверждений
- Использовать `use context7` для явного запроса актуальной документации

## Лучшие практики

### 1. Эффективное использование Tab

- Начинайте с описательных имен функций
- Позвольте Tab предложить структуру
- Принимайте предложения по частям (`Cmd+→`)

### 2. Инлайн-редактирование (Cmd+K)

- Выделяйте конкретные участки кода
- Используйте четкие, конкретные промпты
- Проверяйте изменения перед применением

### 3. Работа с Agent

- Разбивайте сложные задачи на этапы
- Используйте контекстные символы (@) для точности
- Проверяйте изменения в нескольких файлах
- Используйте вкладки (`Cmd+T`) для параллельных задач

### 4. Управление контекстом

- Используйте `@Files` для больших изменений
- `@Code` для точечных правок
- `@Git` для понимания изменений
- `@Cursor Rules` для соблюдения стандартов

### 5. Оптимизация производительности

- Отключайте неиспользуемые MCP-серверы
- Используйте Project Rules вместо повторения инструкций
- Ограничивайте размер контекста для быстрых ответов

### 6. Безопасность

- Не включайте секреты в правила или чаты
- Проверяйте код перед коммитом
- Используйте `.cursorignore` для исключения файлов

## Полезные ресурсы

- [Официальная документация Cursor](https://docs.cursor.com) — полное руководство
- [Cursor Keyboard Shortcuts](https://docs.cursor.com/en/configuration/kbd) — все горячие клавиши
- [Cursor Rules Guide](https://docs.cursor.com/en/context/rules) — работа с правилами
- [MCP Documentation](https://docs.cursor.com/en/context/mcp) — интеграция MCP
- [Cursor GitHub](https://github.com/getcursor/cursor) — исходный код и issues

## Советы по продуктивности

1. **Настройте правила проекта** — сэкономьте время на повторении инструкций
2. **Используйте вкладки чата** — работайте над несколькими задачами параллельно
3. **Изучите контекстные символы** — они значительно улучшают качество ответов
4. **Настройте MCP-серверы** — получите доступ к актуальной документации
5. **Экспериментируйте с промптами** — чем точнее запрос, тем лучше результат
