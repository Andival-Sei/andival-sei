# Конвенция коммитов

В этом проекте мы используем [Conventional Commits](https://www.conventionalcommits.org/) для стандартизации сообщений коммитов. Это помогает автоматически генерировать changelog, определять семантические версии и упрощает чтение истории проекта.

## Формат коммита

```
<type>(<scope>): <subject>

<body>

<footer>
```

### Структура

- **type** (обязательно) - тип изменения
- **scope** (опционально) - область изменения (например, компонент, модуль)
- **subject** (обязательно) - краткое описание изменения (до 50 символов)
- **body** (опционально) - подробное описание (обёрнуто на 72 символа)
- **footer** (опционально) - метаданные (breaking changes, ссылки на issues)

## Типы коммитов

### `feat`
Новая функциональность для пользователя (не исправление бага).

```
feat: добавить переключатель темы
feat(header): добавить навигационное меню
```

### `fix`
Исправление бага для пользователя.

```
fix: исправить ошибку валидации формы
fix(contact-form): исправить отправку пустых сообщений
```

### `docs`
Изменения только в документации.

```
docs: обновить README
docs(commits): добавить примеры коммитов
```

### `style`
Изменения, которые не влияют на смысл кода (форматирование, пробелы, точки с запятой и т.д.).

```
style: форматировать код с помощью Prettier
style(button): исправить отступы
```

### `refactor`
Рефакторинг кода без изменения функциональности.

```
refactor: вынести утилиты в отдельный модуль
refactor(project-card): упростить логику отображения
```

### `perf`
Изменения, улучшающие производительность.

```
perf: оптимизировать загрузку изображений
perf(projects): добавить ленивую загрузку карточек
```

### `test`
Добавление или изменение тестов.

```
test: добавить тесты для ContactForm
test(utils): покрыть тестами функцию валидации
```

### `build`
Изменения в системе сборки или внешних зависимостях.

```
build: обновить Next.js до версии 16.0.3
build: добавить конфигурацию для Vercel
```

### `ci`
Изменения в CI/CD конфигурации.

```
ci: добавить GitHub Actions workflow
ci: настроить автоматическое тестирование
```

### `chore`
Другие изменения, не связанные с кодом (обновление зависимостей, настройка инструментов и т.д.).

```
chore: обновить зависимости
chore: настроить ESLint
```

### `revert`
Откат предыдущего коммита.

```
revert: revert "feat: добавить переключатель темы"
```

## Scope (область изменения)

Scope указывает на конкретную часть проекта, которую затрагивает изменение. Это помогает лучше понять, что именно изменилось.

Примеры scope для нашего проекта:
- `header`, `footer` - виджеты
- `contact-form`, `navigation` - фичи
- `project`, `skill` - сущности
- `button`, `card` - UI компоненты
- `theme` - темизация
- `config` - конфигурация

## Subject (тема коммита)

- Используйте императив, настоящее время: "добавить" вместо "добавил" или "добавлено"
- Не начинайте с заглавной буквы
- Не ставьте точку в конце
- Ограничьте 50 символами

**Хорошо:**
```
feat: добавить переключатель темы
fix: исправить ошибку валидации
```

**Плохо:**
```
feat: Добавлен переключатель темы.
fix: исправление ошибки валидации формы обратной связи на странице контактов
```

## Body (тело коммита)

Используйте body для объяснения:
- **Что** изменилось и **почему**
- **Как** это решает проблему
- Какие побочные эффекты могут быть

Отделяйте body от subject пустой строкой. Обёртывайте каждую строку на 72 символа.

```
feat(theme): добавить переключатель темы

Реализован переключатель между светлой и тёмной темой.
Используется localStorage для сохранения выбора пользователя.
Добавлен ThemeProvider для управления состоянием темы.
```

## Footer (подвал коммита)

Footer используется для:
- **Breaking changes** - изменения, ломающие обратную совместимость
- Ссылок на issues: `Closes #123`, `Fixes #456`

### Breaking Changes

Если коммит содержит breaking changes, добавьте `BREAKING CHANGE:` в footer.

```
feat(api): изменить формат ответа API

BREAKING CHANGE: ответ API теперь возвращает объект вместо массива.
Необходимо обновить код, использующий старый формат.
```

## Примеры коммитов

### Простой коммит
```
feat: добавить страницу проектов
```

### Коммит с scope
```
fix(contact-form): исправить валидацию email
```

### Коммит с body
```
refactor(project-card): упростить компонент

Вынес логику форматирования даты в отдельную утилиту.
Упростил условный рендеринг тегов проекта.
```

### Коммит с breaking change
```
feat(api): изменить структуру данных проектов

BREAKING CHANGE: поле `tags` теперь массив строк вместо объекта.
Обновите все компоненты, использующие `project.tags`.
```

### Коммит с закрытием issue
```
fix(header): исправить мобильное меню

Исправлена проблема с перекрытием контента на мобильных устройствах.

Closes #42
```

## Правила

1. ✅ Используйте императив в subject
2. ✅ Ограничьте subject 50 символами
3. ✅ Используйте scope, когда это уместно
4. ✅ Добавляйте body для сложных изменений
5. ✅ Указывайте breaking changes в footer
6. ✅ Закрывайте issues через footer
7. ❌ Не используйте несколько типов в одном коммите
8. ❌ Не делайте коммиты, которые меняют несколько несвязанных вещей

## Полезные ссылки

- [Conventional Commits](https://www.conventionalcommits.org/) - официальная спецификация
- [Angular Commit Message Guidelines](https://github.com/angular/angular/blob/main/CONTRIBUTING.md#commit) - детальные примеры
- [Semantic Versioning](https://semver.org/) - семантическое версионирование

